<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Indgila Samad Ali</title>

<!-- Optional: local font (preload will warn on file://; OK to ignore locally) -->
<link rel="preload" href="fonts/Pragmatica_Book.woff2" as="font" type="font/woff2" crossorigin>

<!-- Vimeo performance optimizations -->
<link rel="preconnect" href="https://player.vimeo.com">
<link rel="preconnect" href="https://i.vimeocdn.com">
<link rel="preconnect" href="https://f.vimeocdn.com">
<link rel="dns-prefetch" href="https://player.vimeo.com">

<script src="https://player.vimeo.com/api/player.js"></script>

<style>
  :root{
    /* Base spacing + responsive type */
    --edge: 10px;
    --ui: clamp(10px, 0.9rem + 0.2vw, 13px);

    /* Safe-area helpers for iOS notches */
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --safe-top:    env(safe-area-inset-top, 0px);
  }

  html,body{
    margin:0; padding:0; height:100%; background:#000; overflow:hidden;
    font-family: "Pragmatica", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  }
  main{ overflow:hidden; } html,body,main{ height:100%; }

  /* Font face (works even if preload errors on file://) */
  @font-face{
    font-family:"Pragmatica";
    src:url("fonts/Pragmatica_Book.woff2") format("woff2");
    font-weight:400; font-style:normal; font-display:swap;
  }

  /* Stage */
  #stage{
    position:fixed; inset:0; overflow:hidden;
    cursor:none; /* hide OS cursor on stage */
  }
  /* Wrapper around all media layers for unified transforms */
  #mediaWrap{ position:absolute; inset:0; }

  /* Layers */
  .slide{position:absolute; inset:0; display:block; opacity:0; background:#000;}
  #imgA,#imgB{width:100%; height:100%; object-fit:cover; object-position:center;}
  #imgA.show,#imgB.show{opacity:1; transition:opacity 300ms ease;}

  /* Vimeo: true cover (16:9) and no pointer events */
  #vimeo{
    z-index:3; pointer-events:none; border:0;
    top:50%; left:50%; width:100vw; height:56.25vw; min-width:177.78vh; min-height:100vh;
    transform:translate(-50%,-50%); opacity:0; transition:none;
  }

  main{ overflow:hidden; } html,body,main{ height:100%; }
  

  


  /* Bottom UI: name left, caption center, email right */
  .intro-left,.caption,.intro-right{
    position:fixed; bottom:calc(var(--edge) + var(--safe-bottom)); z-index:10;
    font-size:var(--ui); line-height:1.2; letter-spacing:.02em; text-transform:uppercase;
    color:#fff; mix-blend-mode:difference;
    pointer-events:none;    /* don’t block stage mousemove */
  }
  .intro-left{ left:var(--edge); pointer-events:auto; cursor:pointer; }
  .caption{
    left:50%; transform:translateX(-50%);
    max-width:min(90vw, 720px);
    text-align:center;
    white-space:normal;
  }
  .intro-right{ right:var(--edge); }
  .intro-right a{ color:inherit; text-decoration:underline; pointer-events:auto; }

  /* Custom cursor arrow */
  #cursorArrow{
    position:fixed; left:0; top:0; transform:translate(-50%,-50%);
    pointer-events:none; z-index:999;
    font-size:var(--ui); line-height:1; letter-spacing:.02em; color:#fff;
    mix-blend-mode:difference;
    opacity:0; transition:opacity .15s ease, transform .12s ease;
  }
  #cursorArrow.click-bump{ transform:translate(-50%,-50%) scale(1.35); }
  @media (hover:none),(pointer:coarse){ #cursorArrow{ display:none !important; } }

  /* Hide native cursor everywhere in the experience */
  html, body, #stage, #stage *, .intro-left, .caption, .intro-right, .intro-right a {
    cursor: none !important;
  }

  /* Prevent text selection (avoids the text I-beam cursor entirely) */
  html, body, #stage, #stage * { -webkit-user-select: none; user-select: none; }

  /* Labels never block mousemove; the email stays clickable */
  .caption, .intro-right { pointer-events: none; }
  .intro-right a { pointer-events: auto; }

  /* (keep the earlier #cursorArrow block; remove this duplicate to avoid drift) */

  /* About overlay */
  #aboutOverlay{
    position:fixed; inset:0; background:#000; color:#f2f2f2; z-index:1000; display:none;
    overflow:auto; -webkit-overflow-scrolling: touch;
    padding: calc(var(--edge) + var(--safe-top)) var(--edge) calc(var(--edge) + var(--safe-bottom));
  }
  body.show-about #aboutOverlay{ display:block; }
  body.show-about #cursorArrow{ display:none !important; }
  #aboutOverlay .col-left, #aboutOverlay .col-right{
    position:fixed; top:calc(var(--edge) + var(--safe-top)); font-size:var(--ui); line-height:1.2; letter-spacing:.01em;
    font-family:"Pragmatica", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    text-transform:uppercase; mix-blend-mode:normal; max-width:420px;
  }
  #aboutOverlay .col-left{ left:var(--edge); max-width:420px; }
  #aboutOverlay .col-right{ right:var(--edge); text-align:right; max-width:260px; line-height:1.2; }
  #aboutOverlay .bottom-left, #aboutOverlay .bottom-right{
    position:fixed; bottom:calc(var(--edge) + var(--safe-bottom)); z-index:1001;
    font-size:var(--ui); line-height:1.2; letter-spacing:.02em; text-transform:uppercase;
    color:#f2f2f2; mix-blend-mode:normal; pointer-events:auto;
  }
  #aboutOverlay .bottom-left{ left:var(--edge); }
  #aboutOverlay .bottom-right{ right:var(--edge); }
  #aboutOverlay .bottom-right a{ color:inherit; text-decoration:underline; }
  #aboutOverlay h4{ margin:16px 0 6px; font-weight:400; text-transform:uppercase; letter-spacing:.02em; }
  #aboutOverlay .col-right h4:first-child{ margin-top:0; }
  #aboutOverlay p{ margin:0 0 10px; }
  #aboutOverlay ul{ list-style:none; padding:0; margin:0 0 12px; }
  #aboutOverlay li{ margin:0 0 4px; }
  /* Tighter item spacing on right column lists, keep spacing after titles via h4 margins */
  #aboutOverlay .col-right ul li{ line-height:1.05; margin:0; }

  /* Mobile adjustments */
  @media (max-width: 768px){
    /* Slightly larger tap targets and breathing room */
    .intro-left, .intro-right, .caption{ line-height: 1.3; }
    .intro-left{ left:12px; }
    .intro-right{ right:12px; }
    /* Mobile: move caption to top-left */
    .caption{
      top: calc(var(--edge) + var(--safe-top));
      bottom: auto;
      left: var(--edge);
      right: auto;
      transform: none;
      text-align: left;
      max-width: calc(100vw - 2 * var(--edge));
      padding: 0 8px 0 0;
    }

    /* Stack overlay content and let it scroll */
    #aboutOverlay .col-left,
    #aboutOverlay .col-right{
      position:static; max-width:none; text-align:left; margin: 0 0 20px 0;
    }
    #aboutOverlay .bottom-left,
    #aboutOverlay .bottom-right{
      position:sticky; bottom: calc(var(--edge) + var(--safe-bottom)); top: auto;
    }
    #aboutOverlay .bottom-right{ float:right; }

    /* Media: default mobile behavior (letterboxed contain) */
    .layer{ object-fit: contain; object-position: center center; background:#000; }

    /* Phones in portrait: rotate a shared wrapper so media stays full-bleed;
       Use dynamic viewport units + tiny overscan to avoid mid-screen seam */
    body.rotate-media #mediaWrap{
      inset: auto;
      left: 50%;
      top: 50%;
      /* fallback using classic vh/vw with 2px overscan */
      width: calc(100vh + 2px);
      height: calc(100vw + 2px);
      transform: translate(-50%, -50%) rotate(90deg) translateZ(0);
      transform-origin: center center;
      background:#000;
      backface-visibility: hidden;
      will-change: transform, opacity; /* ensure GPU compositing for fades */
    }
    /* Ensure media covers when rotated */
    body.rotate-media .layer{ object-fit: cover; }
    /* Prefer dynamic viewport units when supported (prevents address bar resize jump) */
    @supports (height: 100dvh){
      body.rotate-media #mediaWrap{
        width: calc(100dvh + 2px);
        height: calc(100dvw + 2px);
      }
    }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce){
    .layer{ transition: opacity .15s linear; }
  }
  
  /* Hide native cursor when hovering the stage (toggled by JS) */
  .cursor-hidden, .cursor-hidden * { cursor: none !important; }

  
</style>
</head>
<body>

<!-- Media stage -->
<div id="stage" aria-live="polite">
  <div id="mediaWrap">
    <img  id="imgA" class="slide" alt="">
    <img  id="imgB" class="slide" alt="">
    <iframe id="vimeo" class="slide video" title="Vimeo player" allow="autoplay; fullscreen; picture-in-picture" frameborder="0"></iframe>
  </div>
</div>

<!-- Bottom UI -->
<div class="intro-left">Indgila Samad Ali</div>
<div class="caption" id="caption">CAPTION FOR THE CURRENT IMAGE.</div>
<div class="intro-right"><a href="mailto:info@indgila.com">info@indgila.com</a></div>

<!-- Custom cursor -->
<div id="cursorArrow" aria-hidden="true"></div>

<!-- About overlay -->
<div id="aboutOverlay" hidden>
  <div class="col-left">
    <p>Indgila Samad Ali is Moscow born San Francisco based designer with Persian roots. Rooted in classic art education her work defines the unknown through graphic design, art direction, spatial design and symbolic systems.</p>
    <p>Currently working at OpenAI.</p>
    <p>Previously design director at COLLINS New York.</p>
  </div>
  <div class="col-right">
    <h4>Selected clients:</h4>
    <ul>
      <li>Adidas</li>
      <li>Lexus</li>
      <li>Tinder</li>
      <li>Nickelodeon</li>
      <li>Miro</li>
      <li>OpenAI</li>
      <li>Pearson</li>
      <li>Port Magazine</li>
      <li>Muse Group</li>
      <li>LinkedIn</li>
    </ul>

    <h4>Publications:</h4>
    <ul>
      <li>Brand Identity</li>
      <li>It’s Nice That</li>
      <li>Print Magazine</li>
      <li>Design Week</li>
      <li>FastCo</li>
      <li>PORT Magazine (Print Issue)</li>
    </ul>

    <h4>Jury:</h4>
    <ul>
      <li>Art Directors Club New York Chairmen 2026</li>
      <li>ADC Russia 2021</li>
    </ul>

    <h4>Awards:</h4>
    <ul>
      <li>D&amp;AD</li>
      <li>Art Directors Club New York</li>
      <li>Effie Awards</li>
      <li>Red Dot Design Awards</li>
    </ul>
  </div>
  <div class="bottom-left">INDGILA SAMAD ALI</div>
  <div class="bottom-right"><a href="mailto:info@indgila.com">INFO@INDGILA.COM</a></div>
</div>

<script>
/* ---------- Slides (15 images + 5 videos) ---------- */
const slides = [
  { type:'image', src:'images/01.jpg', caption:'Project One — short description, location, year.' },
  { type:'image', src:'images/02.jpg', caption:'Project Two — short description, materials, year.' },
  { type:'vimeo', url:'https://player.vimeo.com/video/1112592340', caption:'Muse Group Rebrand — short description, YEAR.' },
  { type: 'vimeo', url: 'https://player.vimeo.com/video/1112593009', caption: 'Project video — short description, YEAR.' },
  { type: 'vimeo', url: 'https://player.vimeo.com/video/1112593526', caption: 'Project video — short description, YEAR.' },
  { type: 'vimeo', url: 'https://player.vimeo.com/video/1112593659', caption: 'Project video — short description, YEAR.' },
  { type:'image', src:'images/03.jpg', caption:'Project Three — short description, client, year.' },
  { type:'image', src:'images/04.jpg', caption:'Project Four — short description, year.' },
  { type:'image', src:'images/05.jpg', caption:'Project Five — short description, year.' },
  { type:'image', src:'images/06.jpg', caption:'Project Six — short description, year.' },
  { type:'image', src:'images/07.jpg', caption:'Project Seven — short description, year.' },
  { type:'image', src:'images/08.jpg', caption:'Project Eight — short description, year.' },
  { type:'image', src:'images/09.jpg', caption:'Project Nine — short description, year.' },
  { type:'image', src:'images/010.jpg', caption:'Project Ten — short description, year.' },
  { type:'image', src:'images/011.jpg', caption:'Project Eleven — short description, year.' },
  { type:'image', src:'images/012.jpg', caption:'Project Twelve — short description, year.' },
  { type:'image', src:'images/013.jpg', caption:'Project Thirteen — short description, year.' },
  { type:'image', src:'images/014.jpg', caption:'Project Fourteen — short description, year.' },
  { type:'image', src:'images/015.jpg', caption:'Project Fifteen — short description, year.' },
];
// --- timing & state ---
const FADE = 300;
let isTransitioning = false, queuedDelta = 0, idx = 0;
const buf = [document.getElementById('imgA'), document.getElementById('imgB')];
let active = 0; // 0 or 1
const vimeoFrame = document.getElementById('vimeo');
let vimeoPlayer = null;

// DOM elements
const stage = document.getElementById('stage');
const captionEl = document.getElementById('caption');
const cursorArrow = document.getElementById('cursorArrow');
const aboutOverlay = document.getElementById('aboutOverlay');
const nameEl = document.querySelector('.intro-left');

// helper: parse ID from 'https://player.vimeo.com/video/12345?...'
const vimeoId = u => { const m = String(u).match(/video\/(\d+)/); return m ? m[1] : null; };

// helper: set caption
function setCaption(text){ captionEl.textContent = text || ''; }

function requestNav(d){ if(isTransitioning){ queuedDelta=d; return; } go(d); }
function finish(){ isTransitioning=false; if(queuedDelta){ const d=queuedDelta; queuedDelta=0; go(d); } }

function go(d){
  const n = (idx + d + slides.length) % slides.length;
  show(n);
}

function hideVimeo(){
  vimeoFrame.style.opacity = 0;
  try { vimeoPlayer && vimeoPlayer.pause(); } catch {}
}

function show(i){
  if(isTransitioning) return;
  isTransitioning = true;
  idx = i;
  const cur = slides[i];
  setCaption(cur.caption || '');

  if (cur.type === 'vimeo') {
    if (isTransitioning) return;
    isTransitioning = true;

    // keep the current image visible; clear any HTML5 <video>
    try { vimeoFrame.style.opacity = 0; } catch {}

    // Build a URL that can autoplay everywhere
    const base = cur.url; // e.g. https://player.vimeo.com/video/1112592340[?h=HASH]
    const qs = new URLSearchParams({
      background: 1, autoplay: 1, muted: 1, loop: 1, playsinline: 1, dnt: 1, autopause: 0, ts: Date.now()
    });
    const url = base + (base.includes('?') ? '&' : '?') + qs.toString();

    // Reveal when the iframe finishes a real navigation (plus a small fallback)
    let shown = false;
    const reveal = () => { if (shown) return; shown = true; vimeoFrame.style.opacity = 1; finish(); };
    vimeoFrame.removeAttribute('src');      // hard reset so 'load' will fire
    vimeoFrame.addEventListener('load', reveal, { once: true });
    setTimeout(reveal, 1200);               // safety for odd cache paths
    vimeoFrame.src = url;                   // <-- actual navigation happens here
    return;
  }

  // image path: load into the hidden buffer, then crossfade
  hideVimeo(); // ensure video not visible for images
  const next = buf[1 - active];
  const img = new Image();
  img.src = cur.src;
  const ready = img.decode ? img.decode().catch(()=>{}) :
                new Promise(res => { if(img.complete) res(); else img.onload = () => res(); });
  Promise.resolve(ready).then(()=>{
    // stage next image
    next.classList.remove('show');
    next.src = cur.src;
    // commit on next 2 frames so CSS sees 0 -> 1 change
    requestAnimationFrame(()=>{ requestAnimationFrame(()=>{
      next.classList.add('show');
      setTimeout(()=>{
        // hide old buffer and swap
        buf[active].classList.remove('show');
        active = 1 - active;
        finish();
      }, FADE);
    });});
  });
}

// init: show first slide without animation
(function init(){
  const first = slides[idx];
  if(first.type==='vimeo'){ show(idx); }
  else {
    buf[active].src = first.src;
    buf[active].classList.add('show');
  }
})();



/* ---------- Navigation (mouse, keyboard, touch) ---------- */
// Arrow follows the mouse; no pointer lock so you can leave the page freely
function updateCursor(e){
  const onRightSide = e.clientX > (innerWidth / 2);
  cursorArrow.textContent = onRightSide ? 'NEXT' : 'PREV';
  cursorArrow.style.left = e.clientX + 'px';
  cursorArrow.style.top  = e.clientY + 'px';
  cursorArrow.style.opacity = 1;
}
stage.addEventListener('mousemove', updateCursor);
stage.addEventListener('mouseenter', () => { document.body.classList.add('cursor-hidden'); });
stage.addEventListener('mouseleave', () => { document.body.classList.remove('cursor-hidden'); cursorArrow.style.opacity = 0; });
stage.addEventListener('click', (e) => {
  const right = e.clientX > innerWidth/2;
  requestNav(right ? 1 : -1);
});

/* ---------- About overlay toggle ---------- */
function showAbout(){
  document.body.classList.add('show-about');
  aboutOverlay && aboutOverlay.removeAttribute('hidden');
}
function hideAbout(){
  document.body.classList.remove('show-about');
  aboutOverlay && aboutOverlay.setAttribute('hidden','');
}
nameEl && nameEl.addEventListener('click', (e)=>{
  e.preventDefault(); e.stopPropagation();
  if (document.body.classList.contains('show-about')) hideAbout(); else showAbout();
});
aboutOverlay && aboutOverlay.addEventListener('click', hideAbout);
// Prevent overlay-close when clicking bottom name/email inside the overlay
aboutOverlay && aboutOverlay.addEventListener('click', (e)=>{
  const t = e.target;
  if (t.closest && (t.closest('.bottom-left') || t.closest('.bottom-right'))){
    e.stopPropagation();
  }
}, true);
window.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') hideAbout(); });

// keyboard
window.addEventListener('keydown', (e)=>{
  if (e.key === 'ArrowRight') requestNav(+1);
  if (e.key === 'ArrowLeft')  requestNav(-1);
});

// touch (swipe)
let startX=null;
stage.addEventListener('touchstart', (e)=>{ startX = e.touches?.[0]?.clientX ?? null; }, {passive:true});
stage.addEventListener('touchend', (e)=>{
  if (startX==null) return;
  const endX = e.changedTouches?.[0]?.clientX ?? startX;
  const dx = endX - startX;
  const delta = Math.abs(dx) > 40 ? (dx<0 ? +1 : -1) : (endX > window.innerWidth/2 ? +1 : -1);
  requestNav(delta);
  startX=null;
}, {passive:true});


</script>
</body>
</html>
