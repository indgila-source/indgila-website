<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Indgila Samad Ali</title>

<!-- Optional: local font (preload will warn on file://; OK to ignore locally) -->
<link rel="preload" href="fonts/Pragmatica_Book.woff2" as="font" type="font/woff2" crossorigin>



<style>
  :root{
    /* Base spacing + responsive type */
    --edge: 10px;
    --ui: clamp(10px, 0.9rem + 0.2vw, 13px);

    /* Safe-area helpers for iOS notches */
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --safe-top:    env(safe-area-inset-top, 0px);
  }

  html,body{
    margin:0; padding:0; height:100%; background:#000; overflow:hidden;
    font-family: "Pragmatica", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  }
  main{ overflow:hidden; } html,body,main{ height:100%; }

  /* Font face (works even if preload errors on file://) */
  @font-face{
    font-family:"Pragmatica";
    src:url("fonts/Pragmatica_Book.woff2") format("woff2");
    font-weight:400; font-style:normal; font-display:swap;
  }

  /* Stage */
  #stage{
    position:fixed; inset:0; overflow:hidden;
    cursor:none; /* hide OS cursor on stage */
  }
  /* Wrapper around all media layers for unified transforms */
  #mediaWrap{ position:absolute; inset:0; }

  /* Layers */
  .slide{position:absolute; inset:0; display:block; opacity:0; background:#000;}
  #imgA,#imgB{width:100%; height:100%; object-fit:cover; object-position:center;}
  #imgA.show,#imgB.show{opacity:1; transition:opacity 300ms ease;}

  #imgA,#imgB{ width:100%; height:100%; object-fit:cover; object-position:center; }
#imgA.show,#imgB.show{ opacity:1; transition:opacity 300ms ease; }

.video{
  position:absolute;
  /* tiny overscan prevents 1px seams on some screens */
  inset:-1px;                              /* bleed 1px on every edge */
  width:calc(100% + 2px);
  height:calc(100% + 2px);

  /* fill the viewport like images do */
  object-fit:cover;
  object-position:center;

  background:#000; border:0;
  opacity:0;                               /* you already fade it on in JS */
  transition:none;
  z-index:4;                               /* above images, below nav hotspots */
  pointer-events:auto;                     /* keep center interactive if needed */
}

/* keep images full-bleed too (leave if already present) */
#imgA,#imgB{ width:100%; height:100%; object-fit:cover; object-position:center; }


/* Center play/pause overlay */
#videoOverlay{
  position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
  width:82px; height:82px; border-radius:50%; border:0; cursor:pointer;
  background:rgba(255,255,255,.85); box-shadow:0 6px 14px rgba(0,0,0,.35);
  z-index:6; display:none;
}
#videoOverlay::before{ /* triangle (play) */
  content:""; position:absolute; left:34px; top:27px; width:0; height:0;
  border-left:24px solid #000; border-top:14px solid transparent; border-bottom:14px solid transparent;
}
#videoOverlay.paused::before{ /* pause icon when playing */
  content:""; width:18px; height:28px;
  background:linear-gradient(90deg,#000 0 40%,transparent 40% 60%,#000 60% 100%);
  left:32px; top:27px;
}

/* Edge hotspots: keep center for video controls; edges for PREV/NEXT */
#navPrev,#navNext{
  position:fixed; top:0; height:100%; width:25vw; z-index:7;
  pointer-events:auto; background:transparent;
}
#navPrev{ left:0; } #navNext{ right:0; }

/* Ensure stage is full-height */
html, body, #stage, #mediaWrap { height:100%; overflow:hidden; }

  main{ overflow:hidden; } html,body,main{ height:100%; }
  

  


  /* Bottom UI: name left, caption center, email right */
  .intro-left,.caption,.intro-right{
    position:fixed; bottom:calc(var(--edge) + var(--safe-bottom)); z-index:10;
    font-size:var(--ui); line-height:1.2; letter-spacing:.02em; text-transform:uppercase;
    color:#fff; mix-blend-mode:difference;
    pointer-events:none;    /* don’t block stage mousemove */
  }
  .intro-left{ left:var(--edge); pointer-events:auto; cursor:pointer; }
  .caption{
    left:50%; transform:translateX(-50%);
    max-width:min(90vw, 720px);
    text-align:center;
    white-space:normal;
  }
  .intro-right{ right:var(--edge); }
  .intro-right a{ color:inherit; text-decoration:underline; pointer-events:auto; }

  /* Custom cursor arrow */
  #cursorArrow{
    position:fixed; left:0; top:0; transform:translate(-50%,-50%);
    pointer-events:none; z-index:999;
    font-size:var(--ui); line-height:1; letter-spacing:.02em; color:#fff;
    mix-blend-mode:difference;
    opacity:0; transition:opacity .15s ease, transform .12s ease;
  }
  #cursorArrow.click-bump{ transform:translate(-50%,-50%) scale(1.35); }
  @media (hover:none),(pointer:coarse){ #cursorArrow{ display:none !important; } }

  /* Hide native cursor everywhere in the experience */
  html, body, #stage, #stage *, .intro-left, .caption, .intro-right, .intro-right a {
    cursor: none !important;
  }

  /* Prevent text selection (avoids the text I-beam cursor entirely) */
  html, body, #stage, #stage * { -webkit-user-select: none; user-select: none; }

  /* Labels never block mousemove; the email stays clickable */
  .caption, .intro-right { pointer-events: none; }
  .intro-right a { pointer-events: auto; }

  /* (keep the earlier #cursorArrow block; remove this duplicate to avoid drift) */

  /* About overlay */
  #aboutOverlay{
    position:fixed; inset:0; background:#000; color:#f2f2f2; z-index:1000; display:none;
    overflow:auto; -webkit-overflow-scrolling: touch;
    padding: calc(var(--edge) + var(--safe-top)) var(--edge) calc(var(--edge) + var(--safe-bottom));
  }
  body.show-about #aboutOverlay{ display:block; }
  body.show-about #cursorArrow{ display:none !important; }
  #aboutOverlay .col-left, #aboutOverlay .col-right{
    position:fixed; top:calc(var(--edge) + var(--safe-top)); font-size:var(--ui); line-height:1.2; letter-spacing:.01em;
    font-family:"Pragmatica", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    text-transform:uppercase; mix-blend-mode:normal; max-width:420px;
  }
  #aboutOverlay .col-left{ left:var(--edge); max-width:420px; }
  #aboutOverlay .col-right{ right:var(--edge); text-align:right; max-width:260px; line-height:1.2; }
  #aboutOverlay .bottom-left, #aboutOverlay .bottom-right{
    position:fixed; bottom:calc(var(--edge) + var(--safe-bottom)); z-index:1001;
    font-size:var(--ui); line-height:1.2; letter-spacing:.02em; text-transform:uppercase;
    color:#f2f2f2; mix-blend-mode:normal; pointer-events:auto;
  }
  #aboutOverlay .bottom-left{ left:var(--edge); }
  #aboutOverlay .bottom-right{ right:var(--edge); }
  #aboutOverlay .bottom-right a{ color:inherit; text-decoration:underline; }
  #aboutOverlay h4{ margin:16px 0 6px; font-weight:400; text-transform:uppercase; letter-spacing:.02em; }
  #aboutOverlay .col-right h4:first-child{ margin-top:0; }
  #aboutOverlay p{ margin:0 0 10px; }
  #aboutOverlay ul{ list-style:none; padding:0; margin:0 0 12px; }
  #aboutOverlay li{ margin:0 0 4px; }
  /* Tighter item spacing on right column lists, keep spacing after titles via h4 margins */
  #aboutOverlay .col-right ul li{ line-height:1.05; margin:0; }

  /* Mobile adjustments */
  @media (max-width: 768px){
    /* Slightly larger tap targets and breathing room */
    .intro-left, .intro-right, .caption{ line-height: 1.3; }
    .intro-left{ left:12px; }
    .intro-right{ right:12px; }
    /* Mobile: move caption to top-left */
    .caption{
      top: calc(var(--edge) + var(--safe-top));
      bottom: auto;
      left: var(--edge);
      right: auto;
      transform: none;
      text-align: left;
      max-width: calc(100vw - 2 * var(--edge));
      padding: 0 8px 0 0;
    }

    /* Stack overlay content and let it scroll */
    #aboutOverlay .col-left,
    #aboutOverlay .col-right{
      position:static; max-width:none; text-align:left; margin: 0 0 20px 0;
    }
    #aboutOverlay .bottom-left,
    #aboutOverlay .bottom-right{
      position:sticky; bottom: calc(var(--edge) + var(--safe-bottom)); top: auto;
    }
    #aboutOverlay .bottom-right{ float:right; }

    /* Media: default mobile behavior (letterboxed contain) */
    .layer{ object-fit: contain; object-position: center center; background:#000; }

    /* Rotate only the media wrapper; UI stays upright */
    body.rotate-media #mediaWrap{
      inset: auto;
      left: 50%;
      top: 50%;
      /* fallback using classic vh/vw with tiny overscan to avoid 1px seam */
      width: calc(100vh + 2px);
      height: calc(100vw + 2px);
      transform: translate(-50%, -50%) rotate(90deg) translateZ(0);
      transform-origin: center center;
      background:#000;
      backface-visibility: hidden;
      will-change: transform;
    }

    /* When rotated, make media fill the rotated frame */
    body.rotate-media #imgA,
    body.rotate-media #imgB,
    body.rotate-media .video{
      object-fit: cover;          /* change to 'contain' if you prefer letterboxing */
      object-position: center;
    }

    /* Prefer dynamic viewport units when supported (prevents address-bar jump) */
    @supports (height: 100dvh){
      body.rotate-media #mediaWrap{
        width: calc(100dvh + 2px);
        height: calc(100vw + 2px);
      }
    }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce){
    .layer{ transition: opacity .15s linear; }
  }
  
  /* Hide native cursor when hovering the stage (toggled by JS) */
  .cursor-hidden, .cursor-hidden * { cursor: none !important; }

  
</style>
</head>
<body>

<!-- Media stage -->
<div id="stage" aria-live="polite">
  <div id="mediaWrap">
    <img  id="imgA" class="slide" alt="">
    <img  id="imgB" class="slide" alt="">
    <video id="mp4" class="video" playsinline muted loop preload="auto">
      <source id="mp4src" src="" type="video/mp4">
    </video>
  </div>
  <button id="videoOverlay" aria-label="Play/Pause"></button>
  <div id="navPrev" aria-hidden="true"></div>
  <div id="navNext" aria-hidden="true"></div>
</div>

<!-- Bottom UI -->
<div class="intro-left">Indgila Samad Ali</div>
<div class="caption" id="caption">CAPTION FOR THE CURRENT IMAGE.</div>
<div class="intro-right"><a href="mailto:info@indgila.com">info@indgila.com</a></div>

<!-- Custom cursor -->
<div id="cursorArrow" aria-hidden="true"></div>

<!-- About overlay -->
<div id="aboutOverlay" hidden>
  <div class="col-left">
    <p>Indgila Samad Ali is Moscow born San Francisco based designer with Persian roots. Rooted in classic art education her work defines the unknown through graphic design, art direction, spatial design and symbolic systems.</p>
    <p>Currently working at OpenAI.</p>
    <p>Previously design director at COLLINS New York.</p>
  </div>
  <div class="col-right">
    <h4>Selected clients:</h4>
    <ul>
      <li>Adidas</li>
      <li>Lexus</li>
      <li>Tinder</li>
      <li>Nickelodeon</li>
      <li>Miro</li>
      <li>OpenAI</li>
      <li>Pearson</li>
      <li>Port Magazine</li>
      <li>Muse Group</li>
      <li>LinkedIn</li>
    </ul>

    <h4>Publications:</h4>
    <ul>
      <li>Brand Identity</li>
      <li>It’s Nice That</li>
      <li>Print Magazine</li>
      <li>Design Week</li>
      <li>FastCo</li>
      <li>PORT Magazine (Print Issue)</li>
    </ul>

    <h4>Jury:</h4>
    <ul>
      <li>Art Directors Club New York Chairmen 2026</li>
      <li>ADC Russia 2021</li>
    </ul>

    <h4>Awards:</h4>
    <ul>
      <li>D&amp;AD</li>
      <li>Art Directors Club New York</li>
      <li>Effie Awards</li>
      <li>Red Dot Design Awards</li>
    </ul>
  </div>
  <div class="bottom-left">INDGILA SAMAD ALI</div>
  <div class="bottom-right"><a href="mailto:info@indgila.com">INFO@INDGILA.COM</a></div>
</div>

<script>
/* ---------- Slides (15 images + 5 videos) ---------- */
const slides = [
  { type:'image', src:'images/01.jpg', caption:'Project One — short description, location, year.' },
  { type:'image', src:'images/02.jpg', caption:'Project Two — short description, materials, year.' },
  { type:'mp4', src:'videos/01.mp4', caption:'Project video — short description, YEAR.' },
  { type:'mp4', src:'videos/02.mp4', caption:'Project video — short description, YEAR.' },
  { type:'mp4', src:'videos/03.mp4', caption:'Project video — short description, YEAR.' },
  { type:'mp4', src:'videos/04.mp4', caption:'Project video — short description, YEAR.' },
  { type:'mp4', src:'videos/05.mp4', caption:'Project video — short description, YEAR.' },
  { type:'image', src:'images/03.jpg', caption:'Project Three — short description, client, year.' },
  { type:'image', src:'images/04.jpg', caption:'Project Four — short description, year.' },
  { type:'image', src:'images/05.jpg', caption:'Project Five — short description, year.' },
  { type:'image', src:'images/06.jpg', caption:'Project Six — short description, year.' },
  { type:'image', src:'images/07.jpg', caption:'Project Seven — short description, year.' },
  { type:'image', src:'images/08.jpg', caption:'Project Eight — short description, year.' },
  { type:'image', src:'images/09.jpg', caption:'Project Nine — short description, year.' },
  { type:'image', src:'images/010.jpg', caption:'Project Ten — short description, year.' },
  { type:'image', src:'images/011.jpg', caption:'Project Eleven — short description, year.' },
  { type:'image', src:'images/012.jpg', caption:'Project Twelve — short description, year.' },
  { type:'image', src:'images/013.jpg', caption:'Project Thirteen — short description, year.' },
  { type:'image', src:'images/014.jpg', caption:'Project Fourteen — short description, year.' },
  { type:'image', src:'images/015.jpg', caption:'Project Fifteen — short description, year.' },
];

// Build a randomized sequence that won't put two videos in a row
function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; }
function buildSequence(list){
  const imgs = list.filter(s=>s.type==='image');
  const vids = list.filter(s=>s.type==='mp4');
  shuffle(imgs); shuffle(vids);
  const seq = [];
  let i=0, v=0;
  if (imgs.length) seq.push(imgs[i++]); else if (vids.length) seq.push(vids[v++]);
  while (i<imgs.length || v<vids.length){
    const lastIsVideo = seq[seq.length-1]?.type === 'mp4';
    if (lastIsVideo){
      if (i<imgs.length) seq.push(imgs[i++]); else seq.push(vids[v++]);
    } else {
      if (v<vids.length && Math.random()<0.4) seq.push(vids[v++]);
      else if (i<imgs.length) seq.push(imgs[i++]);
      else seq.push(vids[v++]);
    }
  }
  return seq;
}
let seq = buildSequence(slides);

// --- timing & state ---
const FADE = 300;
let isTransitioning = false, queuedDelta = 0, idx = 0;
const buf = [document.getElementById('imgA'), document.getElementById('imgB')];
let active = 0; // 0 or 1

let lastTouchAt = 0;               // timestamp of last touchend
const TAP_GUARD_MS = 450;          // ignore clicks for ~0.45s after a touch


// DOM elements
const stage = document.getElementById('stage');
const captionEl = document.getElementById('caption');
const cursorArrow = document.getElementById('cursorArrow');
const aboutOverlay = document.getElementById('aboutOverlay');
const nameEl = document.querySelector('.intro-left');
const overlay = document.getElementById('videoOverlay');
const videoEl  = document.getElementById('mp4');      // keep if already present
const mp4src   = document.getElementById('mp4src');
const navPrev  = document.getElementById('navPrev');
const navNext  = document.getElementById('navNext');



// helper: set caption
function setCaption(text){ captionEl.textContent = text || ''; }



/* Drop both image layers */
function dropImages(){ buf[0].classList.remove('show'); buf[1].classList.remove('show'); }





function requestNav(d){ if(isTransitioning){ queuedDelta=d; return; } go(d); }
function finish(){ isTransitioning=false; if(queuedDelta){ const d=queuedDelta; queuedDelta=0; go(d); } }

function go(d){
  const n = (idx + d + seq.length) % seq.length;
  show(n);
}



function show(i){
  if(isTransitioning) return;
  isTransitioning = true;
  idx = i;
  const cur = seq[i];
  setCaption(cur.caption || '');

  if (cur.type === 'mp4') {
    // Keep current image visible while the video warms
    mp4src.src = cur.src;           // set <source> explicitly
    try { videoEl.pause(); } catch {}
    videoEl.currentTime = 0;
    videoEl.muted = true;           // quiet loop by default
    videoEl.loop  = true;
    videoEl.playsInline = true;
    videoEl.preload = 'auto';
    videoEl.load();                 // force a fresh load of the new source

    // Reveal after we have a decodable frame; fallback avoids black forever
    const reveal = () => {
      videoEl.play().catch(()=>{});
      videoEl.style.opacity = 1;    // fade video ON TOP
      setTimeout(() => {
        buf[0].classList.remove('show');
        buf[1].classList.remove('show');
        finish();
      }, 120);
    };

    const onReady  = () => { cleanup(); reveal(); };
    const onCanPlay= () => { cleanup(); reveal(); };
    const onError  = () => {
      cleanup();
      // If the file can't be decoded, stay on the image, finish nav gracefully.
      videoEl.style.opacity = 0;
      finish();
    };
    function cleanup(){
      videoEl.removeEventListener('loadeddata', onReady);
      videoEl.removeEventListener('canplay', onCanPlay);
      videoEl.removeEventListener('error', onError);
    }

    if (videoEl.readyState >= 2) reveal();
    else {
      videoEl.addEventListener('loadeddata', onReady,   { once:true });
      videoEl.addEventListener('canplay',    onCanPlay, { once:true });
      videoEl.addEventListener('error',      onError,   { once:true });
    }
    return;
  }

    // image path: load into the hidden buffer, then crossfade
  if (cur.type === 'image') {
    const nextEl = buf[1 - active];
    const loader = new Image(); loader.src = cur.src;
    const ready = loader.decode ? loader.decode().catch(()=>{})
               : new Promise(res => { if (loader.complete) res(); else loader.onload = () => res(); });

    Promise.resolve(ready).then(() => {
      requestAnimationFrame(() => {
        nextEl.src = cur.src;
        nextEl.classList.add('show');         // start image fade-in (CSS 300ms)
        setTimeout(() => {
          buf[active].classList.remove('show');   // hide old image
          active = 1 - active;                    // swap buffers

          videoEl.style.opacity = 0;
          try { videoEl.pause(); } catch {}
          overlay.style.display = 'none';
          finish();
        }, FADE);
      });
    });
    return;
  }
}

// init: show first slide without animation
(function init(){
  const first = seq[idx];
  if(first.type==='mp4'){ show(idx); }
  else {
    buf[active].src = first.src;
    buf[active].classList.add('show');
  }
})();



/* ---------- Navigation (mouse, keyboard, touch) ---------- */
// Arrow follows the mouse; no pointer lock so you can leave the page freely
function updateCursor(e){
  const onRightSide = e.clientX > (innerWidth / 2);
  cursorArrow.textContent = onRightSide ? 'NEXT' : 'PREV';
  cursorArrow.style.left = e.clientX + 'px';
  cursorArrow.style.top  = e.clientY + 'px';
  cursorArrow.style.opacity = 1;
}
stage.addEventListener('mousemove', updateCursor);
stage.addEventListener('mouseenter', () => { document.body.classList.add('cursor-hidden'); });
stage.addEventListener('mouseleave', () => { document.body.classList.remove('cursor-hidden'); cursorArrow.style.opacity = 0; });
stage.addEventListener('click', (e) => {
  // If a touch just happened, ignore this synthetic click
  if (Date.now() - lastTouchAt < TAP_GUARD_MS) return;
  const right = e.clientX > innerWidth/2;
  requestNav(right ? 1 : -1);
});

navPrev.onclick = (e)=>{
  e.stopPropagation();
  if (Date.now() - lastTouchAt < TAP_GUARD_MS) return;
  requestNav(-1);
};
navNext.onclick = (e)=>{
  e.stopPropagation();
  if (Date.now() - lastTouchAt < TAP_GUARD_MS) return;
  requestNav(+1);
};
navPrev.onmousemove = navNext.onmousemove = updateCursor;
navPrev.onmouseenter = navNext.onmouseenter = ()=>document.body.classList.add('cursor-hidden');
navPrev.onmouseleave = navNext.onmouseleave = ()=>{ document.body.classList.remove('cursor-hidden'); cursorArrow.style.opacity=0; };

/* ---------- About overlay toggle ---------- */
function showAbout(){
  document.body.classList.add('show-about');
  aboutOverlay && aboutOverlay.removeAttribute('hidden');
}
function hideAbout(){
  document.body.classList.remove('show-about');
  aboutOverlay && aboutOverlay.setAttribute('hidden','');
}
nameEl && nameEl.addEventListener('click', (e)=>{
  e.preventDefault(); e.stopPropagation();
  if (document.body.classList.contains('show-about')) hideAbout(); else showAbout();
});
aboutOverlay && aboutOverlay.addEventListener('click', hideAbout);
// Prevent overlay-close when clicking bottom name/email inside the overlay
aboutOverlay && aboutOverlay.addEventListener('click', (e)=>{
  const t = e.target;
  if (t.closest && (t.closest('.bottom-left') || t.closest('.bottom-right'))){
    e.stopPropagation();
  }
}, true);
window.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') hideAbout(); });

// keyboard
window.addEventListener('keydown', (e)=>{
  if (e.key === 'ArrowRight') requestNav(+1);
  if (e.key === 'ArrowLeft')  requestNav(-1);
});

// touch (swipe)
let startX = null;
stage.addEventListener('touchstart', (e)=>{
  const t = e.touches?.[0]; 
  startX = t ? t.clientX : null;
}, { passive:true });

stage.addEventListener('touchend', (e)=>{
  const t = e.changedTouches?.[0];
  lastTouchAt = Date.now();                     // <<< mark the touch, so click is ignored
  if (!t || startX == null) { startX = null; return; }

  const endX = t.clientX;
  const dx = endX - startX;
  // swipe if moved enough, otherwise treat as a tap left/right
  const delta = Math.abs(dx) > 40 ? (dx < 0 ? +1 : -1)
                                  : (endX > innerWidth/2 ? +1 : -1);
  requestNav(delta);
  startX = null;
}, { passive:true });


/* ---------- Mobile rotation handling ---------- */
function applyRotateMedia(){
  const isPhone = window.matchMedia('(max-width: 768px)').matches;
  const isPortrait = window.matchMedia('(orientation: portrait)').matches;
  document.body.classList.toggle('rotate-media', isPhone && isPortrait);
}

// run once at startup, and again after resize/orientation change
applyRotateMedia();
window.addEventListener('resize', () => { setTimeout(applyRotateMedia, 150); }, { passive:true });
window.addEventListener('orientationchange', () => { setTimeout(applyRotateMedia, 250); }, { passive:true });


</script>
</body>
</html>
